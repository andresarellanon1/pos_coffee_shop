<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
	<t t-name="custom_product_screen.CustomOrderWidget" owl="1">
		<div class="grid d-flex w-100 h-100 flex-column align-items-center justify-content-center">
			<div t-if="_orderlinesArray.length === 0" class="w-100 h-100 grid d-flex flex-column gap-4 justify-content-center align-items-center">
				<div class="order-empty">
					Sin registros
				</div>
				<t t-if="isEmployee">
					<button class="w-50 py-2 btn bg-success text-light " t-on-click="() => this.trigger('click-sync-next-order')">
						Siguiente
					</button>
				</t>
				<t t-else="">
				</t>
			</div>
			<div t-else="" class="w-100 h-100 pt-2 grid d-flex flex-column justify-content-center align-items-center">
				<ul class="d-flex flex-column pt-2 w-100 h-100">
					<li t-foreach="_orderlinesArray" t-as="orderline" t-key="orderline.id" class="d-flex w-100 h-auto">
						<CustomOrderline line="orderline" />
					</li>
				</ul>
				<div class="d-flex w-100 row container-fluid py-4 bottom-m left-0 mb-2 border rounded" style="display: absolute;">
					<div class="col-7 d-flex flex-column">
						<t t-set="_total" t-value="getTotal()" />
						<t t-set="_tax" t-value="getTax()" />
						<t t-esc="_total" />
						<t t-if="_tax.hasTax">
							(
							<t t-esc="_tax.displayAmount" />
							)
						</t>
					</div>
					<div class="col-5 d-flex flex-column grid gap-2">
						<button class="w-100 h-100 py-2 btn bg-danger text-light d-flex flex-grow-1 w-100" t-on-click="() => this.trigger('clear-order')">
							Cancelar
						</button>
						<t t-if="isEmployee">
							<button class="w-100 h-100 py-2 btn bg-success text-light d-flex flex-grow-1" t-on-click="() => this.trigger('click-pay')">
								Terminar pedido
							</button>
						</t>
						<t t-else="">
							<button class="w-100 h-100 py-2 btn bg-success text-light d-flex flex-grow-1 w-100" t-on-click="() => this.trigger('click-send')">
								Terminar pedido
							</button>
						</t>
					</div>
					<div class="fs-6 fst-italic fw-ligth">
						<t t-esc="currentOrder.name" />
					</div>
				</div>
			</div>
		</div>
	</t>
</templates>
